---
layout: single
title: "[정처기] 소프트웨어 개발 보안 설계"
categories: 
    - EIP
tags: 
    - [정처기, 정처기실기]
toc: true
toc_sticky: true
---

# <b>📂 SW 개발 보안 구성요소</b>

## <b>📝 3대 요소 ⇒ <b><span style='color:#2D3748; background-color:#fff5b1'>기무가</span></b></b>

- <b><span style='color:#EF6F53'>기밀성</span></b> (Confidentiality)
 : 비인가자/시스템 접근에 정보 공개/노출 차단
- <b><span style='color:#EF6F53'>무결성</span></b> (Integrity)
 : 데이터의 정확성, 완전성, 악의적 변경 차단을 보장
- <b><span style='color:#EF6F53'>가용성</span></b> (Availability)
 : 권한자/앱은 원하는 서비스를 지속해서 사용하도록 보장

## <b>📝 SW 개발 보안 용어 ⇒ <b><span style='color:#2D3748; background-color:#fff5b1'>자위취위</span></b></b>

- 자산 (Assets)
- 위협 (Threat)
- 취약점 (Vulnerability)
- 위험 (Ristk)

<br><br>

# <b>📂 SW 공격기법</b>

## <b>📝 DoS (Denial of Service)</b>
 : <b><span style='color:#006DD7'>1대의 공격자</span></b> 컴퓨터가 타깃 시스템을 악의적으로 공격해 시스템 자원을 소진시켜 원래 의도대로 사용하지 못하게 함

1. SYN Flooding
    - TCP 프로토콜의 구조적 문제 이용해 공격
    - 서버의 동시 가용 사용자 수를 SYN 패킷만 보내 점유 → 다른 사용자가 서버 사용 불가능하게 함
    - 공격자 : ACK 발송 X, 계속 새로운 연결 요청 → 서버 자원 고갈 (TCP Queue Full)
    → TCP 연결 타임아웃 짧게 / Backing Queue 늘리기 / Syncookie 기능 활성화 / 보안장비 활용
2. UDP Flooding
    - 대량의 UDP 패킷 → 임의의 포트 번호로 전송해 응답메시지(ICMP Destination Unreachable) 생성 → 네트워크 과부하
    - ICMP 패킷은 변조되어 공격자에게 전달되지 않아 대기
3. **Smurf / Smurfing**
    - <b><span style='color:#006DD7'>IP or ICMP 특성 악용</span></b>해 특정 사이트에 집중적으로 데이터 전송
    - 출발지 IP를 공격대상 IP로 설정 → <b><span style='color:#006DD7'>네트워크 전체에 ICMP Echo 패킷 직접 브로드캐스팅 </span></b>→ 마비
    - Bounce site인 제3의 사이트 이용해 공격
    → 직접 브로드캐스트 패킷 허용하지 않도록 라우터 설정 / 브로드캐스트로 전송된 ICMP Echo Request 메시지 응답 X
4. PoD (Ping of Death)
    - ICMP 패킷(Ping)을 아주 크게 전송 → IP 단편화 → 수신측에서 단편화된 수많은 패킷을 재조합하면서 과부하 발생
    → 분할 패킷 탐지 / 반복적으로 들어오는 일정 수 이상의 ICMP 패킷 무시
5. Land Attack
    - <b><span style='color:#006DD7'>src IP = dst IP</span></b>로 만들어 보냄 → 수신자가 자기 자신에게 응답 → <b><span style='color:#006DD7'>루프 발생</span></b> (시스템 가용성 침해)
    → src IP = dst IP 인 패킷 차단
6. **Tear Drop**
    - IP 패킷 재조합 과정에서 <b><span style='color:#006DD7'>잘못된 IP Fragment Offset 정보 (중첩)</span></b> → 수신시스템에 문제 발생
7. Bonk / Boink
    - 시스템의 패킷 재전송과 재조립이 과부하 유발 (프로토콜의 오류 제어 이용한 공격)
    - Bonk : 같은 시퀀스 계속 보냄
    - Boink : 일정 간격으로 시퀀스 번호에 빈 공간 생성
8. Ping Flood
    - 특정 사이트에 많은 ICMP Echo를 보냄 → 응답에 모든 시스템 자원 쓴 경우

<br>

## <b>📝 DDoS (Distributed DoS)</b>
 : <b><span style='color:#006DD7'>공격자(감염호스트, 분산좀비PC)를 분산배치</span></b>해 특정 사이트를 공격하게 함

### <b>📌 DDoS 공격 구성요소 ⇒ <b><span style='color:#2D3748; background-color:#fff5b1'>HAMAD</span></b></b>

- 핸들러 (Handler)
 : 마스터 시스템 프로그램
- 에이전트 (Agent)
 : 직접 공격하는 시스템
- 마스터 (Master)
 : 공격자에게 명령 받는 시스템 (여러 에이전트 관리)
- 공격자 (Attacker)
 : 공격 주도하는 해커 컴퓨터
- 데몬 프로그램 (Daemon)
 : 에이전트 시스템 프로그램

### <b>📌 DDoS 공격 도구</b>

- Trinoo
   - 통합된 UDP Flood 서비스 거부 공격 유발
   - 소수의 서버(마스터) & 수많은 클라이언트(데몬)
- TFN (Tribe Flood Network)
   - 많은 소스에서 목표 시스템에 대해 서비스 거부 공격
   - TFN 서비스 거부 공격 : 공격자 → 클라이언트(마스터) 프로그램 → TFN 서버(데몬)에게 공격명령
   - UDP Flood 공격, TCP SYN Flood 공격, ICMP Echo request 요청 공격, ICMP 브로드캐스트 공격(Smurf) 수행 가능
- Stacheldraht
   - 분산 서비스 거부 에이전트 역할 시스템용 멀웨어 도구
   - ICMP Flood, SYN Flood, UDP Flood, Smurf 공격 가능

### <b>📌 DDoS 공격 종류</b>

- 대역폭 소진 공격 (3~4계층)
  - UDP/ICMP Traffic Flooding
  - TCP Traffic Flooding (SYN, ACK)
  - IP Flooding (LAND Attack, Teardrop)
- 서비스 마비 공격 (7계층)
  - HTTP Traffic Flooding (GET)
  - HTTP Header/Option Flooding (Slowris, Slowloris)
  - Other L7 Service Flooding (Hash/Hulk DoS, FTP/SMTP Attack)

### <b>📌 DDoS 공격 대응방안</b>

 - 차단 정책 업데이트
 - 좀비PC IP 확보 (IP 위변조 여부 확인)
 - 보안 솔루션 운영 (방화벽)
 - 홈페이지 보안 관리 (모의해킹)
 - 시스템 패치 → 취약점 해결
 - 동시 연결 임계치(Threshold) 설정
 - 연결 타임아웃, 읽기 타임아웃 설정

<br>

## <b>📝 DRDoS (Distributed Reflection DoS)</b>
 : 공격자가 출발지 IP → <b><span style='color:#006DD7'>공격대상 IP로 위조</span></b> → 다수의 <b><span style='color:#006DD7'>반사 서버</span></b>로 SYN 패킷 전송 → 변조된 공격대상 IP로 SYN-ACK 패킷 전송 → 서비스거부

- DRDoS 대응방안
   - ISP가 직접 차단
   - 반사서버에서 연결 완료되지 않은 SYN의 출처 IP 조사 → 블랙리스트로 운용
   - 공격대상 서버IP, Port 변경 및 필터링

<br>

## <b>📝 네트워크 서비스 공격</b>

- Sniffing
  - 직접 공격하지 않고 데이터만 몰래 들여다보는 수동적 공격기법
- 네트워크 Scanner, Sniffer
  - 네트워크 취약점을 파악하기 위한 도구
- Password Cracking
  - Dictionary Cracking : ID, PW가 될 수 있는 단어 파일 생성 → 대입하여 PW 찾기
  - Brute Force(무차별) Cracking : PW가 될 수 있는 문자 → 무작위 대입해 PW 찾기
  - Password Hybrid Attack : Dictionary + Brute Force
  - Rainbow Table Attack : PW 별 해시값 미리 테이블에 생성 → 크래킹할 해시값을 테이블에서 검색 → 역으로 PW 찾기
- IP Spoofing
  - 인증되지 않은 액세스 권한 입수하는 기법
  - 침입자가 패킷 헤더 수정 → 인증된 호스트 ip 주소 위조 → 타깃 서버로 메시지 발송 → 해당 포트에서 유입되는 것처럼 표시
- ARP Spoofing
  - 공격자가 특정 호스트의 MAC 주소 → 자신의 MAC 주소로 위조한 ARP Reply 생성 → 희생자에게 계속 전송
  → 희상자의 ARP Cache table에 공격자 MAC 정보 등록 → 공격자가 희생자의 패킷 스니핑
- ICMP Redirect 공격
  - 3계층에서 스니핑 시스템을 네트워크에 존재하는 또다른 라우터라 알리고 패킷 흐름 변경
  - ICMP Redirect 메시지를 공격자가 원하는 형태로 → 특정 목적지로 가는 패킷 스니핑
- 트로이목마 (Trojan Horses)
  - 겉보기에 정상적으로 보이지만 실행하면 악성 코드를 실행하는 프로그램
- <b><span style='color:#006DD7'>Session Hijacking</span></b>
  - <b><span style='color:#006DD7'>TCP 세션관리 취약점</span></b> 이용 (TCP Sequence Number)
  - <b><span style='color:#006DD7'>비동기화</span></b> 상태로 패킷 유실 → 재전송 패킷 증가
  - ACK Storm 증가 + 네트워크 부하 증가 현상 발생
  → 비동기화 상태 탐지, ACK 패킷 비율 모니터링, 패킷 유실 및 재전송 탐지, 기대하지 않은 접속의 리셋 탐지

<br>

## <b>📝 애플리케이션 공격</b>

- HTTP GET Flooding
  - Cache Control Attack
  - HTTP 캐시 옵션 조작 → 웹 서버가 직접 처리 유도 → 웹 서버 자원 소진
- Slowloris (Slow HTTP Header DoS)
  - HTTP GET 메서드 → 헤더 최종 끝 알리지 않고 웹 서버 연결상태 장시간 지속 → 연결 자원 소진
- RUDY (Slow HTTP POST DoS)
  - 요청 헤더의 Content-Length 엄청 크게 → 메시지 바디를 엄청 조금 보내 → 연결 상태 유지
- Slow HTTP Read DoS
  - TCP 윈도 크기와 데이터 처리율 감소(Zero Window Packet) → 여러 HTTP 패킷 계속 전송 → 대상 웹 서버 연결 장시간 지속
- Hulk DoS
  - 공격대상 URL 계속 변경(임계치 기반 DoS 대응 장비 우회) → 계속 GET 요청
- Hash DoS
  - 조작된 파라미터를 POST 방식으로 웹 서버에 전달 → 다수의 해시 충돌 → 자원소모

<br>

## <b>📝 시스템 보안 위협</b>

- Buffer Overflow 공격
 : 할당된 버퍼 크기를 초과하는 데이터 양 입력 → 프로세스 흐름 변경시켜 악성 코드 실행
    - 공격 유형
        - 스택 버퍼 오버플로우
        - 힙 버퍼 오버플로우
    - 공격 대응 방안
        - **Stack Guard** : <b><span style='color:#006DD7'>카나리</span></b> (Canary; 무결성 체크용 값)를 복귀주소와 변수 사이에 삽입
        - **Stack Shield** : 복귀주소를 <b><span style='color:#006DD7'>Global RET</span></b>라는 특수스택에 저장 → 함수 종료 시 RET 비교
        - ASLR (Address Space Layout Randomization) : 주소공간배치 난수화 → 실행 시마다 메모리 주소 변경
        - 안전한 함수 활용
- <b><span style='color:#EF6F53'>Backdoor</span></b>
 : 정상적인 인증 절차 우회
    - 백도어 탐지기법
       - 프로세스 및 열린 포트 확인 (TCPView 사용)
       - SetUid 파일 검사
       - 백신 및 백도어 탐지 툴 활용
       - 무결성 검사 (tripwire 사용)
       - 로그 분석
- 주요 시스템 보안 공격기법
    - Format String Attack
       - 인자가 Format String(서식 문자열)인 함수 취약점 이용
    - Race Condition Attack
       - 프로세스 or 스레드가 공유자원에 동시 접근 → 접근 순서에 따라 비정상적인 결과가 발생하는 조건/상황
       - 실행 프로세스가 임시파일 만드는 경우 → 중간에 끼어들어 임시파일을 심볼릭 링크 → 악의적인 행위 수행하게 함
    - Key Logger Attack
       - 사용자 키보드 움직임 기록(key logging, key stroke logging) → 개인정보 빼냄
    - Rootkit
       - 시스템 침입 숨기고 → 불법 해킹 기능 제공하는 프로그램 모음

<br>

## <b>📝 보안 관련 용어</b>

- 보안 공격기법
    - Phishing : SNS에서 위장해서 불특정 다수 정보 탈취
    - Spear Phishing : 위장 메일 발송 → 첨부 링크나 파일 클릭 유도 → 개인정보 탈취
    - Qshing : QR code + Phishing = QR코드로 악성 앱 다운 유도
    - Smishing : SMS + Phishing = 개인정보 요구 or 소액결제 유도 (사이버 사기)
    - Adware (AD Supported SW) : 특정 소프트웨어 실행 후 자동 광고
    - Worm : 독자적 실행 → 스스로 복제해 네트워크 연결 통해 전파하는 악성 소프트웨어
    - Malicious Bot : 스스로 실행 X. 해커 원격 제어. 취약점/백도어/스팸메일/DDoS에 악용. 좀비PC = 악성봇에 의해 감염된 PC
    - Botnet : 감염된 컴퓨터들이 네트워크로 연결된 형태
    - Ransomware : 시스템을 잠그거나 데이터 암호화 → 복호화X. 금전요구
    - Logic Bomb : 특정 조건 충족 시 악의적 기능 유도하는 악성 코드
    - APT (Advanced Persistent Threat) : 특정 타깃 맞춤형 공격
    - Supply Chain Attack : 개발사 네트워크 침투 → 악의적 변경 or 소프트웨어 설치
    - Zero Day Attack : 보안 취약점 공표 전 악용(공격의 신속성) ⇒ 대처방법 X!!
    - Evil Twin : 무선 와이파이 피싱 → 사용자 정보 탈취
    - Cyberbullying
- 보안 방어기법
    - Cyber Kill Chain : APT 방어 분석 모델
    - Obfuscation (난독화) : 코드 가독성 낮춰 역공학에 대비
- 보안 관련 도구
    - **Tripwire** : 크래커가 백도어 만들거나 설정파일 변경 시 감지 도구, 무결성 검사
    - Ping : 인터넷으로 접속하려는 원격 호스트가 정상인지 진단
    - **tcpdump** : 네트워크 인터페이스 거치는 패킷 내용 출력 (모든 패킷 내용 도청 가능)
    - cron : 시간 기반 작업 스케줄링
    - netcat : TCP, UDP 프로토콜 네트워크 연결 시 데이터 읽고 쓰는 유틸리티 프로그램

<br><br>

# <b>📂 서버 인증</b>
 : 접속자의 로그인 정보 확인하는 보안 절차 (메시지 무결성 & 송신자 검증)

## <b>📝 서버 인증 기술 유형 ⇒ <b><span style='color:#2D3748; background-color:#fff5b1'>지소생특</span></b></b>

- 지식기반 인증 : ID, PW
- 소지기반 인증 : 공인인증서, OTP
- 생체기반 인증 : 홍채, 정맥, 얼굴, 지문
- 특징기반 인증 : 서명, 발걸음, 몸짓

<br>

## <b>📝 서버 접근 통제</b>

### <b>📌 서버 접근통제 목적</b>
 - 비인가자로부터 객체의 기밀성, 무결성, 가용성 보장
 - 접근통제를 위해 식별(Identification), 인증(Authentication), 권한부여(Authorization), 책임추적성(Accountabiility) 기법 적용

### <b>📌 서버 접근통제 유형</b>

- <b><span style='color:#EF6F53'>임의적 접근통제 </span></b>(DAC; Discretionary Access Control)
   - <b><span style='color:#006DD7'>신분(주체/그룹의 식별자) 기반</span></b> 접근통제 정책
   - 데이터 소유자 : 자원 관련 ACL(Access Control List)을 수정 → 자원에 대한 권한 부여
   - 정책 변경 용이, 구현 용이, 유연
- <b><span style='color:#EF6F53'>강제적 접근통제 </span></b>(MAC; Mandatory Access Control)
   - <b><span style='color:#006DD7'>규칙 기반</span></b> 접근통제 정책
   - 접근결정 : 시스템 <b><span style='color:#006DD7'>보안등급(Label)</span></b> ⇒ 정보 허용등급, 접근 허가권한에 근거해 객체에 대한 접근 제한
   - 정책 변경 어려움, 안정적, 중앙집중적
   - 관리자만 사용자에게 시스템 자원에 대한 권한 할당 가능
- <b><span style='color:#EF6F53'>역할기반 접근통제 </span></b>(RBAC; Role Based Access Control)
   - 중앙관리자가 사용자에게 <b><span style='color:#006DD7'>할당한 역할 기반</span></b>
   - 정책 변경 용이, 관리 용이

### <b>📌 3A (Authentication, Authorization, Accounting)</b>
 : 가입자에 대해 안전하고 신뢰성 있는 기능을 제공하는 정보 보호 기술

- 인증 (Authentication)
 : 접근을 시도하는 가입자/단말의 검증
- 권한부여 (Authorization)
 : 검증된 가입자/단말에게 어떤 수준의 권한/서비스 허용
- 계정관리 (Accounting)
 : 리소스 사용에 대한 정보 수집/관리

### <b>📌 접근통제 보호 모델</b>

- <b><span style='color:#EF6F53'>BLP</span></b> (Bell-LaPadula Policy)
   - <b><span style='color:#006DD7'>기밀성</span></b> 강조. MAC. 미 국방부 지원보안모델
   - <b><span style='color:#006DD7'>No Read Up</span></b> : 자신의 권한보다 높은 수준 문서는 읽을 수 없음
   - <b><span style='color:#006DD7'>No Write Down</span></b> : 자신의 권한보다 낮은 문서에 쓰기 권한 제한
- <b><span style='color:#EF6F53'>Biba Integrity Model</span></b>
   - 벨-라파둘라 모델 단점 보완 : <b><span style='color:#006DD7'>무결성</span></b> 보장
   - <b><span style='color:#006DD7'>No Read Down</span></b> : 자신의 권한보다 낮은 문서 읽을 수 없음
   - <b><span style='color:#006DD7'>No Write Up</span></b> : 자신의 권한보다 높은 문서에 쓰기 권한 제한
- Clark-Wilson Integrity Model
   - 무결성 중심 상업용 모델
   - 주체/프로그램/객체 관계 사용
- Brewer Nash, Chinese Wall Model
   - 이익 충돌 회피 모델 : 충돌 일으키는 모든 것 차단
   - 직무 분리를 접근통제에 반영

          - SW개발 보안의 3대 요소 (기밀성, 무결성, 가용성)
          - SW개발 보안 용어 (자산, 위협, 취약점, 위험)
          - DDoS 공격 구성요소 (핸들러, 에이전트 등)
          - 인증 기술 유형 (지식/소지/생체/특징 기반)
          - 접근 통제 보호 모델 (벨라파둘라, 비바)
          - 서버 접근 통제 유형 (임의적, 강제적, 역할기반)
          - 암호 알고리즘 상세
          - IPSec

# <b>📂 소프트웨어 개발 보안 구현</b>
      - 시큐어 코딩 가이드 적용 대상 (입력데이터 검증 및 표현, 보안 기능 등)
      - 입력데이터 검증 및 표현 취약점 (XSS, CSRF, SQL Injection)
      - 비즈니스 연속성 계획 관련 주요 용어 (BAI, RTO, RPO 등)